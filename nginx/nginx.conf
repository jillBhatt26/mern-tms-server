http{
    upstream lb {
        server 10.122.0.2 weight=1;
        server 10.122.0.2 weight=1;
        server 10.122.0.2 weight=1;
    }
    
    server {
        listen       5000;
        server_name  localhost;
        
        location /api {
            proxy_pass http://lb;
        }
    }
}

# events {
#     worker_connections 512;
# }

# # upstream loadbalancer {
# #     server localhost;
# #     server localhost;
# #     server localhost;
# # }

# http {
#     server {
#         listen 5000;

#         location / {
#             proxy_pass http://server:5000;
#         }
#     }
# }

# # server {
# #     listen       5000;
# #     server_name  localhost;

# #     location / {
# #         proxy_pass http://server:5000;
# #     }
# # }